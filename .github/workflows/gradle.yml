name: Java CI with Gradle
run-name: Deploy to ${{ inputs.deploy_target }} by @${{ github.actor }}
                
                on:
  push:
    branches:
      - main
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup Java
        uses: actions/setup-java@v4
        with:
          java-version: '17'
          distribution: 'temurin'
      - name: Verify Java version
        run: java -version
      - name: Debug environment
        run: |
 pwd
 ls -la
 ./gradlew --version
      - name: Make gradlew executable
        run: chmod +x ./gradlew
      - name: Check Gradle dependencies
        run: ./gradlew dependencies --no-daemon
      - name: Build with Gradle
        run: ./gradlew build --no-daemon --stacktrace --info
      - name: Build artifacts
        uses: actions/upload-artifact@v4
        if: success() || failure()
        with:
          name: Build-Artifacts
          path: build/libs/
          if-no-files-found: warn
